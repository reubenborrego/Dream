@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<script>
    function onResize() {
        let banner_video = document.getElementById('banner_video')
        console.log(banner_video)

        if (window.innerWidth < 940) {
            banner_video.style.height = '' + (450.0 / 940.0 * window.innerWidth) + 'px'
        } else {
            banner_video.style.height = '450.0px'
        }
        console.log("setting video height to", window.innerWidth, banner_video.style.height)
    }

    function configure() {
        window.addEventListener("resize", onResize)
    }
</script>

<div class="body">
    <div class="banner-bg py-3">
        <div class="mx-auto" style="max-width: 940px">
            <nav class="navbar navbar-expand-sm navbar-dark ms-3 me-3">
                <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon text-white"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <a class="navbar-brand fw-bold" href="#">DREAM</a>
                    <ul class="ms-4 navbar-nav">
                        <li class="nav-item small">
                            <a class="nav-link active" aria-current="page" href="#">STORE</a>
                        </li>
                        <li class="nav-item small">
                            <a class="nav-link active" aria-current="page" href="#">COMMUNITY</a>
                        </li>
                        <li class="nav-item small">
                            <a class="nav-link active" aria-current="page" href="#">USERNAME</a>
                        </li>
                        <li class="nav-item small">
                            <a class="nav-link active" aria-current="page" href="#">CHAT</a>
                        </li>
                        <li class="nav-item small">
                            <a class="nav-link active" aria-current="page" href="#">SUPPORT</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>
    <div style="overflow: hidden">
        <div style="display: inline-block; position: relative; right: -50%; height: auto">
            <video id="banner_video" style="position: relative; left: -50%" loop="" muted="" autoplay="" playsinline="" poster="https://cdn.akamai.steamstatic.com/steam/clusters/frontpage/21b609eeda4a2b207676d87a/page_bg_english.jpg?t=1690234535">
                <source src="https://cdn.akamai.steamstatic.com/steam/clusters/frontpage/21b609eeda4a2b207676d87a/webm_page_bg_english.webm?t=1690234535" type="video/webm">
                <source src="https://cdn.akamai.steamstatic.com/steam/clusters/frontpage/21b609eeda4a2b207676d87a/mp4_page_bg_english.mp4?t=1690234535" type="video/mp4">
            </video>
        </div>
    </div>
    <div class="d-flex justify-content-center">
        <div class="m-lg-3">
            <div class="text-white small mb-2">FEATURED & RECOMMENDED</div>
            <div class="d-flex">
                <img class="shadow-sm" style="width: 616px; height: 353px;" src="https://cdn.akamai.steamstatic.com/steam/apps/1895880/capsule_616x353.jpg?t=1690383500" />
                <div style="width: 324px; height: 353px; background-color:#081621">
                    <div class="ms-3 my-4"><h3 class="mx-0 px-0 text-white fw-normal">Baldur's Gate 3</h3></div>
                    <div class="d-flex" style="overflow:hidden;margin-bottom: 10px">
                        <img class="featured-preview" style="width: 162px; height: 69px; position:relative; left: -20px" src="https://cdn.akamai.steamstatic.com/steam/apps/1895880/ss_5d2c999ecdccbc200121318b479bf0bdeb16b9b9.600x338.jpg" />
                        <img class="featured-preview" style="width: 162px; height: 69px; position:relative; left: -10px" src="https://cdn.akamai.steamstatic.com/steam/apps/1895880/ss_ba3c36a6efab13bae80058565deec546d8962594.600x338.jpg" />
                    </div>
                    <div class="d-flex" style="overflow:hidden;margin-bottom: 10px">
                        <img class="featured-preview" style="width: 162px; height: 69px; position:relative; left: -20px" src="https://cdn.akamai.steamstatic.com/steam/apps/1895880/ss_31b29f38b6c97cf8c4cd80936f2defd347a62091.600x338.jpg" />
                        <img class="featured-preview" style="width: 162px; height: 69px; position:relative; left: -10px" src="https://cdn.akamai.steamstatic.com/steam/apps/1895880/ss_852202ce40cd9c558f7f732a9c2e23a6980bca6f.600x338.jpg" />
                    </div>
                </div>
            </div>
            <div class="text-white small">TEST</div>
        </div>
    </div>
    <div style="height:100vh"></div>
    <script>
        configure()
    </script>
</div>
